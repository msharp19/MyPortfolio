@model PortfolioSite.Models.CommentModel

<li class="comment-@Model.Id">
    <figure>
        <svg width="80" height="80" data-jdenticon-value="@Model.Email" class="img-responsive"></svg>
    </figure>
    <section>
        <h4>
            @Model.Username
            @if (Model.Level < 3)
            {
                <a href="javascript:reply('@Model.Username', @Model.Id)" class="reply-btn" value="@Model.Id">Reply</a>
            }
        </h4>
        <div class="date-pan">@Model.FormattedDateSent</div>
        @Model.Content
    </section>
    @if (Model.Level < 3)
    {
        <ol class="reply-pan">
            @for (int i = 0; i < Model.SubComments.Count(); i++)
            {
                var subComment = Model.SubComments[i];
                subComment.Level = Model.Level+1;
                @Html.Partial("_Comment", subComment)
            }
            @if (Model.SubCommentCount > 2)
            {
                <div class="load-more">
                    <a href="javascript:loadMoreComments(@Model.Id)" class="load-more-btn">Load More</a>
                </div>
            }
        </ol>
    }
</li>

@Scripts.Render("~/Scripts/jdenticon-1.8.0.js")